# 🧪 DebugScreen 테스트 가이드

## 📋 테스트 순서

### 1️⃣ 초기 상태 확인 (온라인)
**목적**: 현재 시스템 상태 파악

1. `🌐 네트워크 상태` - 온라인인지 확인
2. `📦 로컬 저장소` - 로컬에 저장된 데이터 개수 확인
3. `💾 캐시 확인` - React Query 캐시 상태 확인
4. `📊 캐시 vs 로컬 비교` - 캐시와 로컬이 일치하는지 확인

**예상 결과**:
```
[시간] 🌐 네트워크: 온라인 (wifi)
[시간] 📦 로컬 저장소: X개 할일, 0개 대기 중
[시간] 💾 캐시: 날짜별 X개, 전체 X개
[시간] ✅ 로컬과 캐시 일치
```

---

### 2️⃣ 기본 CRUD 테스트 (온라인)
**목적**: 온라인 상태에서 생성/수정/삭제 정상 작동 확인

#### 2-1. 생성 테스트
1. `➕ 온라인 생성` (2~3번 클릭)
2. `📦 로컬 저장소` - 개수 증가 확인
3. `💾 캐시 확인` - 캐시도 업데이트 확인

**예상 결과**:
```
[시간] ✅ 온라인 생성: 온라인 테스트 14:30:25
[시간] 📦 로컬 저장소: X+1개 할일, 0개 대기 중
```

#### 2-2. 수정 테스트
1. `📝 온라인 수정`
2. `📦 로컬 저장소` - 개수는 동일, 내용 변경 확인

**예상 결과**:
```
[시간] ✅ 온라인 수정: 온라인 테스트 14:30:25 (온라인수정)
```

#### 2-3. 삭제 테스트
1. `🗑️ 온라인 삭제`
2. `📦 로컬 저장소` - 개수 감소 확인

**예상 결과**:
```
[시간] ✅ 온라인 삭제: 온라인 테스트 14:30:25 (온라인수정)
[시간] 📦 로컬 저장소: X-1개 할일, 0개 대기 중
```

---

### 3️⃣ 오프라인 CRUD 테스트
**목적**: 오프라인 상태에서 Pending Changes 정상 작동 확인

#### 3-1. 오프라인 모드 전환
- **iOS**: 설정 > Wi-Fi 끄기 또는 비행기 모드
- **Android**: 설정 > 네트워크 끄기 또는 비행기 모드

#### 3-2. 오프라인 생성
1. `🌐 네트워크 상태` - 오프라인 확인
2. `➕ 오프라인 생성` (2~3번 클릭)
3. `📦 로컬 저장소` - "X개 대기 중" 증가 확인

**예상 결과**:
```
[시간] 📵 네트워크: 오프라인 (none)
[시간] ✅ 오프라인 생성: 오프라인 테스트 14:35:10 (X개)
[시간] 📦 로컬 저장소: X개 할일, 2개 대기 중
```

#### 3-3. 오프라인 수정
1. `📝 오프라인 수정`
2. `📦 로컬 저장소` - 대기 중 개수 증가

**예상 결과**:
```
[시간] ✅ 오프라인 수정: 오프라인 테스트 14:35:10 (수정됨)
[시간] 📦 로컬 저장소: X개 할일, 3개 대기 중
```

#### 3-4. 오프라인 삭제
1. `🗑️ 오프라인 삭제`
2. `📦 로컬 저장소` - 할일 개수 감소, 대기 중 증가

**예상 결과**:
```
[시간] ✅ 오프라인 삭제: 오프라인 테스트 14:35:10 (수정됨) (X-1개)
[시간] 📦 로컬 저장소: X-1개 할일, 4개 대기 중
```

---

### 4️⃣ Pending Changes 동기화 테스트
**목적**: 오프라인 작업이 온라인 복귀 시 서버에 반영되는지 확인

#### 4-1. 온라인 복귀
- Wi-Fi 또는 모바일 데이터 다시 켜기

#### 4-2. Pending 처리
1. `🌐 네트워크 상태` - 온라인 확인
2. `🔄 Pending 처리`
3. `📦 로컬 저장소` - "0개 대기 중" 확인

**예상 결과**:
```
[시간] 🌐 네트워크: 온라인 (wifi)
[시간] 🔄 Pending 처리 시작: 4개
[시간] ✅ Pending 처리 완료: 4/4
[시간] ✅ 캐시 업데이트: 날짜별 X개
[시간] 📦 로컬 저장소: X개 할일, 0개 대기 중
```

---

### 5️⃣ 델타 동기화 테스트
**목적**: 변경사항만 효율적으로 동기화되는지 확인

#### 5-1. 델타 동기화
1. `🔄 델타 동기화`

**예상 결과** (변경사항 없을 때):
```
[시간] ✅ 델타 동기화: 0개 업데이트, 0개 삭제
```

**예상 결과** (변경사항 있을 때):
```
[시간] ✅ 델타 동기화: 3개 업데이트, 1개 삭제
```

#### 5-2. 강제 전체 동기화
1. `🔄 강제 전체 동기화` - 델타 무시하고 전체 다시 받기
2. `📊 캐시 vs 로컬 비교` - 일치 확인

**예상 결과**:
```
[시간] 🔄 강제 전체 동기화 시작...
[시간] ✅ 강제 전체 동기화 완료: X개 (날짜별 Y개)
[시간] ✅ 로컬과 캐시 일치
```

---

### 6️⃣ 반복 일정 테스트
**목적**: 반복 일정 생성/수정/삭제 정상 작동 확인

#### 6-1. 반복 일정 생성
1. `📅 매일 반복 생성`
2. `📅 매주 반복 생성 (월수금)`
3. `📅 매월 반복 생성 (1일, 15일)`
4. `📅 매년 반복 생성 (생일)`
5. `📅 반복 일정 발생 확인` - 생성된 반복 일정 목록 확인

**예상 결과**:
```
[시간] ✅ 매일 반복 생성: 매일 반복 14:40:00
[시간] ✅ 매주 반복 생성: 매주 월수금 14:40:05 (월수금)
[시간] ✅ 매월 반복 생성: 매월 1일, 15일 14:40:10 (1일, 15일)
[시간] ✅ 매년 반복 생성: 매년 생일 14:40:15 (1월 27일)
[시간] 📅 2026-01-27 반복 일정 확인:
[시간]   - 매일 반복 14:40:00: daily (2026-01-27 ~ 2026-02-10)
[시간]   - 매주 월수금 14:40:05: weekly (2026-01-27 ~ 2026-03-01)
[시간]   - 매월 1일, 15일 14:40:10: monthly (2026-01-27 ~ 2026-06-30)
[시간]   - 매년 생일 14:40:15: yearly (2026-01-27 ~ 무제한)
[시간] ✅ 총 4개 반복 일정
```

#### 6-2. 반복 일정 수정
1. `📝 반복 일정 수정`
2. `📅 반복 일정 발생 확인` - 제목 변경 확인

**예상 결과**:
```
[시간] ✅ 반복 일정 수정: 매일 반복 14:40:00 (수정됨)
```

#### 6-3. 반복 일정 삭제
1. `🗑️ 반복 일정 삭제`
2. `📅 반복 일정 발생 확인` - 개수 감소 확인

**예상 결과**:
```
[시간] ✅ 반복 일정 삭제: 매일 반복 14:40:00 (수정됨)
[시간] ✅ 총 3개 반복 일정
```

---

### 7️⃣ 고급 테스트 (선택)
**목적**: 엣지 케이스 및 성능 테스트

#### 7-1. 대량 생성
1. `📦 대량 생성 (10개)`
2. `📦 로컬 저장소` - 10개 증가 확인

**예상 결과**:
```
[시간] 🔄 대량 생성 시작 (10개)...
[시간] ✅ 대량 생성 완료: 10개
[시간] 📦 로컬 저장소: X+10개 할일, 0개 대기 중
```

#### 7-2. 동시 수정 충돌
1. `⚠️ 동시 수정 충돌` - 로컬/서버 동시 수정 시뮬레이션
2. `🔄 델타 동기화` - 서버 버전으로 덮어쓰기 확인

**예상 결과**:
```
[시간] 📝 로컬 수정: 온라인 테스트 14:30:25 (로컬수정)
[시간] 📝 서버 수정: 온라인 테스트 14:30:25 (서버수정)
[시간] ⚠️ 충돌 발생! 델타 동기화로 서버 버전이 우선됩니다.
```

---

### 8️⃣ 정리
**목적**: 테스트 데이터 정리

1. `🗑️ 전체 초기화` - 확인 후 초기화
2. `🔄 강제 전체 동기화` - 서버 데이터 다시 받기

**예상 결과**:
```
[시간] 🗑️ 전체 초기화 완료
[시간] ✅ 강제 전체 동기화 완료: X개 (날짜별 Y개)
```

---

## 🚨 주의사항

1. **네트워크 전환**: 오프라인 테스트 시 반드시 네트워크를 완전히 끄세요
2. **로그 확인**: 각 단계마다 로그를 스크린샷으로 저장하면 좋습니다
3. **순서 준수**: 테스트 순서를 지켜야 정확한 결과를 얻을 수 있습니다
4. **초기화**: 테스트 완료 후 전체 초기화로 깨끗하게 정리하세요

---

## 📸 로그 보내는 방법

각 섹션(1️⃣~8️⃣)별로 로그를 스크린샷 찍어서 보내주시면:
- ✅ 정상 작동 확인
- ❌ 문제 발견 시 원인 분석
- 🔧 필요 시 코드 수정

**로그 예시**:
```
[14:30:25] 🌐 네트워크: 온라인 (wifi)
[14:30:26] 📦 로컬 저장소: 5개 할일, 0개 대기 중
[14:30:27] 💾 캐시: 날짜별 5개, 전체 5개
[14:30:28] ✅ 로컬과 캐시 일치
```
