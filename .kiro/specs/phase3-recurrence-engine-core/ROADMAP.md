# Phase 3 Recurrence Engine Core - ROADMAP (임시)

작성일: 2026-02-17  
목적: 기획자/개발자가 다음 작업 우선순위를 빠르게 공유하기 위한 임시 로드맵

## 1. 동기화 서비스 작업

### 1-1. 동기화 서비스 손보기

- [ ] 오프라인에서 쌓인 `pending_changes`를 온라인 복귀 시 서버에 반영한다.
- [ ] 동기화 순서를 `Push(로컬 변경 업로드) -> Pull(서버 최신 반영)`로 고정한다.
- [ ] 실패 시 재시도 규칙(일시 오류/영구 오류 분리)을 만든다.

### 1-2. 성능/안정성 개선

- [ ] 전체 동기화(full sync) 대신 변경분 중심(delta sync)으로 전환한다.
- [ ] 앱 활성화/네트워크 복귀/로그인 트리거 중복 실행을 1회로 제한한다.

## 2. 공통 조회/집계 레이어 통합
## 3. 화면별 어댑터/정합성 테스트


## 3. 공통 레이어에서 `일정 + 완료 + 카테고리` 병합 작업?

- [ ] todo, todo-calendar, strip-calendar에서 같은 날짜의 결과가 동일한지 검증한다.
- [ ] 오프라인 생성/수정/삭제 후 온라인 복귀 시 최종 데이터 일치를 검증한다.

## 3. 반복 엔진 연동 마무리

- [ ] 공통 조회/집계 레이어에서 `Todo + Completion + Category`를 단일 파이프라인으로 조회/병합한다.
- [ ] 공통 조회/집계 경로에서 recurrenceEngine 최종 판정을 통일한다.
- [ ] completion/category 병합 타이밍과 기준을 화면별로 동일하게 맞춘다.

## 4. 완료 기준 (임시)

- [ ] pending queue가 온라인 복귀 후 자동으로 안정적으로 비워진다.
- [ ] full sync 없이도 대부분의 화면 전환이 즉시 반영된다.
- [ ] todo / todo-calendar / strip-calendar에서 같은 날짜 결과가 일치한다.
